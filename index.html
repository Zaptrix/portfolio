<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Don Cuddihee — Portfolio</title>
  <meta name="description" content="Portfolio of Don Cuddihee — entry-level software engineer / QA engineer. Projects, experience, and contact." />
  <meta name="color-scheme" content="light dark" />
  <meta property="og:title" content="Don Cuddihee — Portfolio" />
  <meta property="og:description" content="Entry-level software engineer / QA engineer. Projects, experience, and contact." />
  <meta property="og:type" content="website" />
  <style>
    :root {
      --bg: #f7f7f8;
      --surface: #ffffff;
      --text: #0b1220;
      --muted: #5b6472;
      --accent: #2563eb;
      --accent-2: #0ea5e9;
      --ring: rgba(37, 99, 235, .35);
      --border: #e5e7eb;
      --code: #111827;
    }
    .dark {
      --bg: #0b0f14;
      --surface: #0f141b;
      --text: #e6e7ea;
      --muted: #a5adba;
      --accent: #60a5fa;
      --accent-2: #22d3ee;
      --ring: rgba(96, 165, 250, .35);
      --border: #1f2630;
      --code: #f9fafb;
    }
    html, body { height: 100%; }
    body {
      margin: 0;
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .container { width: min(1100px, 92vw); margin: 0 auto; }
    header {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: saturate(1.2) blur(8px);
      background: color-mix(in oklab, var(--bg) 86%, transparent);
      border-bottom: 1px solid var(--border);
    }
    .nav { display:flex; align-items:center; justify-content:space-between; padding: .8rem 0; }
    .brand { font-weight: 700; letter-spacing:.2px; }
    .nav a { margin-left: 1rem; font-weight: 600; }

    .theme-toggle { display:flex; gap:.5rem; align-items:center; }
    .toggle-group { display:inline-flex; border: 1px solid var(--border); border-radius: 999px; padding: .25rem; }
    .toggle-btn { border: 0; background: transparent; padding: .35rem .7rem; border-radius: 999px; cursor: pointer; color: var(--muted); font-weight: 600; }
    .toggle-btn[aria-pressed="true"] { background: var(--surface); color: var(--text); box-shadow: 0 0 0 .2rem var(--ring) inset; }

    /* Stage spans viewport (transparent, non-interactive) */
    #stage { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0; pointer-events: none; }
    #three-canvas { display:block; width:100%; height:100%; }

    /* Ensure content sits above the stage */
    header, .hero, main, footer { position: relative; z-index: 1; }

    .hero {
      position: relative; isolation: isolate; overflow: clip;
      display: grid; place-items: center; min-height: 48svh;
      background: radial-gradient(1200px 600px at 70% -50%, color-mix(in oklab, var(--accent) 14%, transparent), transparent),
                  radial-gradient(900px 400px at -20% 20%, color-mix(in oklab, var(--accent-2) 12%, transparent), transparent);
    }
    .hero-inner { text-align:center; padding: 3rem 0; }
    .eyebrow { color: var(--muted); font-weight: 700; text-transform: uppercase; letter-spacing: .12em; font-size:.8rem; }
    .title { font-size: clamp(1.8rem, 4vw, 3rem); margin: .6rem 0; line-height:1.15; }
    .subtitle { color: var(--muted); margin: .6rem auto 1.2rem; max-width: 65ch; }
    .cta { display:flex; gap:.7rem; justify-content:center; flex-wrap: wrap; }
    .btn { display:inline-flex; align-items:center; gap:.5rem; padding:.7rem 1rem; border-radius: 999px; border:1px solid var(--border); background: var(--surface); color: var(--text); font-weight:700; cursor:pointer; }
    .btn.primary { background: var(--accent); color: white; border-color: color-mix(in oklab, var(--accent) 85%, black); }
    .btn:hover { filter: brightness(1.04); text-decoration:none; }

    main { padding: 2.25rem 0 3rem; }
    section { padding: 2rem 0; }
    h2 { font-size: clamp(1.3rem, 2.6vw, 1.8rem); margin: 0 0 1rem; }
    .grid { display:grid; gap: 1rem; grid-template-columns: repeat(12, 1fr); }
    .card { grid-column: span 12; border:1px solid var(--border); background: var(--surface); border-radius: 1rem; padding: 1rem; }
    .card h3 { margin:.2rem 0 .5rem; }
    .card p { margin:.3rem 0 .6rem; color: var(--muted); }
    .card .meta { font-size: .9rem; color: var(--muted); }
    @media (min-width: 720px){
      .card.span-6 { grid-column: span 6; }
      .card.span-4 { grid-column: span 4; }
    }

    .list { display:grid; gap:.6rem; padding-left:1.1rem; }
    .list li { margin-left:.4rem; }

    .skills { display:flex; gap:.5rem; flex-wrap: wrap; }
    .chip { border:1px solid var(--border); background: var(--surface); border-radius: 999px; padding:.35rem .6rem; font-weight:600; color: var(--muted); }

    footer { padding: 1.4rem 0 3rem; color: var(--muted); }

    .skip { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip:focus { position:static; width:auto; height:auto; padding:.6rem; background: var(--surface); border:1px solid var(--border); border-radius:.5rem; }

    @media (max-width: 960px){
      #stage { display:none; }
    }

    /* Print: make this double as a clean resume */
    @media print {
      #stage, header, .cta { display:none !important; }
      body { background: white; color: #111; }
      .card { break-inside: avoid; }
    }

    /* Remove horizontal dividers per request */
    .hero { border-bottom: 0 !important; }
    footer { border-top: 0 !important; }
  </style>
</head>
<body>
  <a href="#content" class="skip">Skip to content</a>
  <header>
    <div class="container nav" role="navigation" aria-label="Primary">
      <div class="brand">Don Cuddihee</div>
      <div class="theme-toggle" role="group" aria-label="Color theme">
        <div class="toggle-group">
          <button class="toggle-btn" data-theme="system" aria-pressed="true">System</button>
          <button class="toggle-btn" data-theme="light" aria-pressed="false">Light</button>
          <button class="toggle-btn" data-theme="dark" aria-pressed="false">Dark</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Full-viewport 3D stage -->
  <div id="stage"><canvas id="three-canvas"></canvas></div>

  <section class="hero">
    <div class="hero-inner container">
      <div class="eyebrow">Entry-level Software Engineer • QA Engineer • AI tooling</div>
      <h1 class="title">Reliable software. Testable systems. Clear documentation.</h1>
      <p class="subtitle">
        Entry-level Software Engineer / QA Engineer (B.S. Computer Science, 2023) focused on reliable, testable workflows and documented process improvements.
        I evaluate local AI tooling and translate findings into repeatable setups, troubleshooting notes, and clear documentation.
      </p>
      <div class="cta">
        <a class="btn primary" href="mailto:doncudd3@gmail.com">Email me</a>
        <a class="btn" href="#projects">Projects</a>
        <a class="btn" href="#experience">Experience</a>
        <a class="btn" id="resume-btn" href="Resume.pdf" download>Download Resume (PDF)</a>
      </div>
    </div>
  </section>

  <main id="content" class="container" tabindex="-1">
    <section id="projects" aria-labelledby="projects-h">
      <h2 id="projects-h">Selected Projects</h2>
      <div class="grid">
        <article class="card span-6">
          <h3>Local LLM Evaluation (llama.cpp) (2025)</h3>
          <p>Compared local LLMs and quantizations via llama.cpp under consumer hardware constraints (12GB VRAM / 64GB RAM) and captured repeatable run configurations.</p>
          <p class="meta">llama.cpp, C++ toolchains, quantization. <span aria-hidden>•</span> Repeatable configs + evaluation notes.</p>
        </article>

        <article class="card span-6">
          <h3>Local Image Generation Workflows (ComfyUI) (2025)</h3>
          <p>Built and iterated node-based workflows with Flux Kontext and Z-Image Turbo; standardized model organization around SafeTensors and LoRAs/model patches (avoiding unsafe checkpoint formats).</p>
          <p class="meta">ComfyUI, Flux Kontext, Z-Image Turbo. <span aria-hidden>•</span> SafeTensors + LoRA/model patches.</p>
        </article>

        <article class="card span-6">
          <h3>AI Coding Reliability Tests (2025)</h3>
          <p>Generated small playable games (e.g., Minesweeper, Snake) from single prompts using Cursor and Google Antigravity; tracked recurring failure modes and manual pass/fail checks.</p>
          <p class="meta">Prompting, debugging, QA mindset. <span aria-hidden>•</span> Failure-mode tracking.</p>
        </article>

        <article class="card span-6">
          <h3>Interactive Portfolio Website (Three.js) (2025)</h3>
          <p>Designed and built this portfolio with interactive 3D visuals and responsive UI, with project writeups intended to make work easy to evaluate.</p>
          <p class="meta">Three.js, responsive UI, accessibility-aware design.</p>
        </article>
      </div>
    </section>

    <section id="experience" aria-labelledby="exp-h">
      <h2 id="exp-h">Experience</h2>

      <article class="card">
        <h3>Call Center Analyst — Agilant Solutions</h3>
        <p class="meta">Lisle, IL • Feb 2024 – Dec 2025</p>
        <ul class="list">
          <li>Delivered first-line technical support (Windows/software/network); reproduced issues and escalated with clear steps, environment details, and outcomes.</li>
          <li>Authored knowledgebase/documentation improvements to standardize troubleshooting and reduce ambiguity; content later leveraged in an AI-first-contact flow for basic troubleshooting.</li>
          <li>Recommended dashboard alerting improvements (audio/visual notifications) implemented by a partner team to improve response consistency.</li>
        </ul>
      </article>

      <article class="card">
        <h3>Help Desk Student Worker — College of DuPage</h3>
        <p class="meta">Glen Ellyn, IL • Sep 2021 – Dec 2022</p>
        <ul class="list">
          <li>Resolved Level 1–3 tickets using structured troubleshooting and root-cause isolation; maintained clear ticket notes for handoffs.</li>
          <li>Trained new hires on triage workflow and customer communication to support consistent service quality.</li>
        </ul>
      </article>

      <article class="card">
        <h3>Sales Associate — (Various)</h3>
        <p class="meta">Jul 2018 – Sep 2021</p>
        <ul class="list">
          <li>Developed strong customer communication skills by translating product details into clear recommendations and next steps.</li>
        </ul>
      </article>
    </section>

    <section id="skills" aria-labelledby="skills-h">
      <h2 id="skills-h">Skills</h2>
      <div class="card">
        <div class="skills" aria-label="Skills list">
          <!-- Primary -->
          <span class="chip">Python</span>
          <span class="chip">C++</span>
          <span class="chip">JavaScript</span>

          <!-- Working -->
          <span class="chip">SQL</span>
          <span class="chip">Java</span>
          <span class="chip">PowerShell</span>

          <!-- AI/ML Tooling -->
          <span class="chip">llama.cpp</span>
          <span class="chip">ComfyUI</span>
          <span class="chip">Flux Kontext</span>
          <span class="chip">Z-Image Turbo</span>
          <span class="chip">SafeTensors</span>
          <span class="chip">LoRA / model patches</span>

          <!-- Tools/Platforms -->
          <span class="chip">Git</span>
          <span class="chip">Windows</span>
          <span class="chip">Linux</span>
          <span class="chip">Wireshark</span>
          <span class="chip">Nmap</span>
          <span class="chip">LaTeX</span>

          <!-- Web -->
          <span class="chip">Three.js</span>
          <span class="chip">Responsive UI</span>
        </div>
      </div>
    </section>

    <section id="education" aria-labelledby="edu-h">
      <h2 id="edu-h">Education</h2>
      <div class="card">
        <strong>BS, Computer Science — Lewis University</strong>
        <div class="meta">Selected coursework: Data Structures &amp; Algorithms, Software Engineering, Operating Systems, Databases</div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div><strong>Don Cuddihee</strong> • <a href="mailto:doncudd3@gmail.com">doncudd3@gmail.com</a></div>
    </div>
  </footer>

  <!-- Three.js from CDN (no inline JS inside src-tag) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script>
    // ---------------------
    // Globals & utilities
    // ---------------------
    let renderer = null;
    let scene, camera;
    const stage = document.getElementById('stage');
    const canvas = document.getElementById('three-canvas');

    // Parallax tuning (vertical motion more dramatic; horizontal unchanged)
    // Parallax tuning: move with the text but slower, to feel background
    const VERTICAL_SCALE = 1.2;  // increase vertical spacing between objects
    const PARALLAX_AMP = 0.55;   // <1 => slower than text
    const CURVE_EXPONENT = 1;    // linear mapping for predictable motion
    const VIS_MARGIN = 0.4;   // 40% viewport height pre/post margin for visibility window (base)

    // Lights declared up-front to avoid TDZ when theme applies
    let lights = null;
    function updateLightColors(dark){
      if (!lights || !lights.hemi) return;
      lights.hemi.color.setHex(dark ? 0xbfd8ff : 0xffffff);
      lights.hemi.groundColor.setHex(dark ? 0x20242a : 0x222222);
      lights.key.intensity = dark ? 0.8 : 0.7;
      lights.p1.intensity = dark ? 55 : 45;
      lights.p2.intensity = dark ? 55 : 45;
    }

    function setThreeBg(dark){
      if (renderer) {
        const hex = dark ? 0x0b0f14 : 0xf7f7f8;
        renderer.setClearColor(hex, 0); // transparent so page bg shows
      }
      updateLightColors(dark); // safe no-op until lights are built
    }

    // Theme handling
    const themeBtns = Array.from(document.querySelectorAll('.toggle-btn'));
    function systemDark(){ return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches; }
    function applyTheme(mode){
      localStorage.setItem('theme', mode);
      const dark = mode === 'dark' || (mode === 'system' && systemDark());
      document.body.classList.toggle('dark', dark);
      themeBtns.forEach(btn => btn.setAttribute('aria-pressed', String(btn.dataset.theme === mode)));
      setThreeBg(dark);
    }
    themeBtns.forEach(btn => btn.addEventListener('click', () => applyTheme(btn.dataset.theme)));
    window.matchMedia('(prefers-color-scheme: dark)')?.addEventListener('change', () => { if (localStorage.getItem('theme') === 'system') applyTheme('system'); });
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light' || savedTheme === 'dark' || savedTheme === 'system') {
      applyTheme(savedTheme);
    } else {
      // First visit: defer one frame so UI paints before toggling, then apply 'system'
      requestAnimationFrame(() => applyTheme('system'));
    }

    // ---------------------
    // Three.js scene setup
    // ---------------------
    scene = new THREE.Scene();
    camera = new THREE.PerspectiveCamera(55, 1, 0.1, 100);
    camera.position.set(0, 0, 6);

    try {
      renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
      renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));
      if (renderer.outputEncoding !== undefined) renderer.outputEncoding = THREE.sRGBEncoding;
      renderer.physicallyCorrectLights = true;
      setThreeBg(document.body.classList.contains('dark'));
    } catch(e){
      console.error('WebGL init failed:', e); stage.style.display = 'none';
    }

    // Dynamic lighting
    function buildLights(){
      lights = { hemi:null, key:null, p1:null, p2:null };
      lights.hemi = new THREE.HemisphereLight(0xffffff, 0x101010, 0.5);
      lights.key = new THREE.DirectionalLight(0xffffff, 0.7);
      lights.key.position.set(5, 8, 6);
      lights.p1 = new THREE.PointLight(0xff66cc, 40, 20); // hot pink
      lights.p2 = new THREE.PointLight(0x66ccff, 40, 20); // cyan
      scene.add(lights.hemi, lights.key, lights.p1, lights.p2);
      updateLightColors(document.body.classList.contains('dark'));
    }
    buildLights();

    // ---------- Objects that follow sections (unique polygonal shapes) ----------
    const anchors = [
      { id: 'projects',   side: +1, kind: 'dode',   color: 0x7c4dff }, // violet dodecahedron (right)
      { id: 'experience', side: -1, kind: 'icosa',  color: 0x00e5ff }, // cyan icosahedron (left)
      { id: 'skills',     side: +1, kind: 'octa',   color: 0xff2d55 }, // magenta octahedron (right)
      { id: 'education',  side: -1, kind: 'tetra',  color: 0xffb000 }  // amber tetrahedron (left)
    ];
    const groups = [];

    function polyMaterial(hex){
      return new THREE.MeshStandardMaterial({ color: hex, metalness: 0.25, roughness: 0.55, flatShading: true });
    }

    function buildFor(anchor){
      const g = new THREE.Group();
      let geom;
      switch(anchor.kind){
        case 'dode':  geom = new THREE.DodecahedronGeometry(0.95, 0); break;
        case 'icosa': geom = new THREE.IcosahedronGeometry(0.95, 0);  break;
        case 'octa':  geom = new THREE.OctahedronGeometry(0.95, 0);   break;
        case 'tetra': geom = new THREE.TetrahedronGeometry(0.95, 0);  break;
        default:      geom = new THREE.BoxGeometry(1.1, 1.1, 1.1);    break;
      }
      const mesh = new THREE.Mesh(geom, polyMaterial(anchor.color));
      g.add(mesh);
      scene.add(g);
      g.userData = { el: document.getElementById(anchor.id), id: anchor.id, side: anchor.side, rot: (Math.random()*0.003 + 0.001) * (Math.random()<0.5?-1:1), kind: anchor.kind };
      groups.push(g);
    }
    anchors.forEach(buildFor);

    // Map DOM Y to world Y
    function frustum(){
      const size = renderer.getSize(new THREE.Vector2());
      const aspect = size.x / Math.max(1,size.y);
      const vFOV = (THREE.MathUtils? THREE.MathUtils.degToRad(camera.fov) : (Math.PI/180)*camera.fov);
      const height = 2 * Math.tan(vFOV/2) * camera.position.z;
      const width = height * aspect;
      return { width, height };
    }

    function updateGroupPositions(){
      const { width, height } = frustum();
      const container = document.querySelector('.container');
      const contPx = container ? container.getBoundingClientRect().width : Math.min(1100, window.innerWidth*0.92);
      const contWorld = width * (contPx / Math.max(1, window.innerWidth));
      const sideBand = (width - contWorld) / 2; // world width available outside container on each side
      const targetFromCenter = contWorld/2 + sideBand*0.6; // place 60% into side band
      const sideX = (s)=> s * targetFromCenter;

      for (const g of groups){
        const el = g.userData.el; if (!el) continue;
        const r = el.getBoundingClientRect();
        const centerY = r.top + r.height*0.3; // a bit above center
        const norm = (centerY / window.innerHeight) * 2 - 1; // -1 top, +1 bottom
        // Non-linear curve amplifies motion; amp increases travel distance
        const curved = Math.sign(norm) * Math.pow(Math.abs(norm), CURVE_EXPONENT);
        g.position.y = (-curved * (height/2)) * VERTICAL_SCALE * PARALLAX_AMP;
        // Maintain spacing adjustments
        const nudge = height * 0.05; // ~5% of view height
        if (g.userData.id === 'experience') g.position.y -= nudge; // pull down near top
        if (g.userData.id === 'skills')     g.position.y += nudge; // push up near bottom
        g.position.x = sideX(g.userData.side);
        const vh = Math.max(1, window.innerHeight);
        // Give the bottom sections (skills, education) extra *bottom* margin so they pop in earlier
        const base = vh * VIS_MARGIN;
        const extraBottom = (g.userData.id === 'skills') ? vh * 0.7 : (g.userData.id === 'education') ? vh * 0.3 : 0; // skills gets larger extra bottom margin to pop in earlier
        const topMargin = base;
        const bottomMargin = base + extraBottom;
        g.visible = r.bottom > -topMargin && r.top < (vh + bottomMargin); // show near viewport
      }
    }

    function resize(){
      const rect = stage.getBoundingClientRect();
      renderer.setSize(rect.width, rect.height, false);
      camera.aspect = rect.width / Math.max(1, rect.height);
      camera.updateProjectionMatrix();
      updateGroupPositions();
    }
    resize();
    window.addEventListener('resize', resize);

    function onScroll(){ updateGroupPositions(); }
    window.addEventListener('scroll', onScroll, { passive:true });
    onScroll();

    // Animation loop (lights move dynamically)
    function tick(){
      const t = performance.now() * 0.001;
      if (lights && lights.p1) lights.p1.position.set(Math.sin(t)*4.2, Math.cos(t*0.6)*2.2, 2.8);
      if (lights && lights.p2) lights.p2.position.set(Math.cos(t*0.8)*-3.6, Math.sin(t*1.1)*3.0, 1.8);
      for (const g of groups){ g.rotation.y += g.userData.rot; g.rotation.x += g.userData.rot*0.4; }
      renderer.render(scene, camera);
      requestAnimationFrame(tick);
    }
    tick();

    // ---------------------
    // Self-tests (dev only)
    (function selfTests(){
      try {
        console.assert(!!document.querySelector('#three-canvas'), 'Canvas exists');
        console.assert(renderer instanceof THREE.WebGLRenderer, 'Renderer initialized');
        console.assert(groups.length === 4, 'Four anchor groups created');
        console.assert(lights && lights.hemi && lights.key, 'Lights initialized');
        updateGroupPositions();
        console.assert(groups.every(g => Number.isFinite(g.position.y)), 'World Y is finite');
        // Alternating sides: x * side should be > 0 (correct side)
        console.assert(groups.every(g => (g.position.x * g.userData.side) > 0), 'Objects alternate left/right correctly');
        // Unique geometry types
        const types = groups.map(g => g.children[0].geometry.type);
        console.assert(new Set(types).size === types.length, 'All shapes are unique');
        // Flat shading applied
        console.assert(groups.every(g => g.children[0].material.flatShading === true), 'Flat-shaded polygonal materials');
        // Colors distinct
        const colors = groups.map(g => g.children[0].material.color.getHex());
        console.assert(new Set(colors).size === colors.length, 'Each shape has a unique color');
        // Theme toggle reflects active mode (after first paint or stored mode)
        const expected = localStorage.getItem('theme') || 'system';
        const selected = (Array.from(document.querySelectorAll('.toggle-btn')).find(b => b.getAttribute('aria-pressed') === 'true')||{}).dataset?.theme;
        console.assert(selected === expected || (expected === 'system' && selected === 'system'), 'Theme toggle reflects active mode');
        // Resume link exists and points to PDF
        const resume = document.getElementById('resume-btn');
        console.assert(resume && /\.pdf(\?|$)/i.test(resume.getAttribute('href')), 'Resume download button points to a PDF');
        // Email links updated
        const mailtoOk = Array.from(document.querySelectorAll('a[href^="mailto:"]')).every(a => a.getAttribute('href').includes('doncudd3@gmail.com'));
        console.assert(mailtoOk, 'Email links updated to donccudd3@gmail.com');
        // Parallax: slower-than-text and same direction as text (opposite user scroll)
        console.assert(PARALLAX_AMP > 0 && PARALLAX_AMP < 1, 'Parallax amp < 1 for slower-than-text');
        const h=100;
        const mapNormToY = (norm)=>{ const curved = Math.sign(norm)*Math.pow(Math.abs(norm), CURVE_EXPONENT); return (-curved * (h/2)) * VERTICAL_SCALE * PARALLAX_AMP; };
        console.assert(mapNormToY(-0.6) > mapNormToY(-0.3), 'As section moves up (norm ↓), object Y increases (moves up)');
        console.assert(mapNormToY(0.6) < mapNormToY(0.3), 'As section moves down (norm ↑), object Y decreases (moves down)');
        // Amplitude check: object travel < text travel
        const objSpan = Math.abs(mapNormToY(1) - mapNormToY(0));
        const textSpan = (h/2) * VERTICAL_SCALE; // baseline if amp were 1
        console.assert(objSpan < textSpan, 'Object moves slower than text');
        // Visibility window tests — earlier render, later derender via VIS_MARGIN
        (function visTests(){
          const vh = 1000; const base = vh * VIS_MARGIN; const extra = vh * 0.3;
          const computeGeneric = (top, bottom)=> (bottom > -base && top < (vh + base));
          const computeBottomEdu  = (top, bottom)=> (bottom > -base && top < (vh + base + extra));
          const computeBottomSkills = (top, bottom)=> (bottom > -base && top < (vh + base + vh*0.7));
          // Generic sections
          console.assert(computeGeneric(-350, -50) === true,  'Generic: above viewport but within margin → visible');
          console.assert(computeGeneric(-1100, -900) === false,'Generic: far above beyond margin → not visible');
          console.assert(computeGeneric(950, 1200) === true,   'Generic: below viewport but within base margin → visible');
          console.assert(computeGeneric(1500, 1700) === false, 'Generic: far below beyond base margin → not visible');
          // Bottom sections get earlier pop-in (education + skills have larger bottom margins)
          console.assert(computeBottomEdu(1200, 1450) === true,   'Education: earlier pop-in below viewport with extra margin');
          console.assert(computeBottomSkills(1350, 1600) === true, 'Skills: even earlier pop-in with larger extra bottom margin');
          console.assert(computeBottomSkills(2200, 2400) === false,'Skills: still not visible when far below even with extra');
        })();
        setThreeBg(document.body.classList.contains('dark'));
      } catch(e){ console.warn('Self-tests failed:', e); }
    })();
  </script>
</body>
</html>
